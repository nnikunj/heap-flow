<div class="clr-row is-solid">
  <div class="clr-col-12">
    <div class="card">
      <div class="card-header">
        Accept Materials
      </div>
      <div class="card-block">

        <form class="heap-form" [formGroup]="acceptMaterialForm">

          <div class="heap-row">
            <mat-form-field>
              <mat-label>Vendor Name</mat-label>
              <input type="text" matInput formControlName="vendorCode" [matAutocomplete]="auto_material_vendor" (focusout)="vendorFocusOut($event)">
              <mat-autocomplete #auto_material_vendor="matAutocomplete" [displayWith]="displayVendorName">
                <mat-option *ngFor="let vendor of vendors " [value]="vendor">
                  {{vendor.name}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Date</mat-label>
              <input matInput [matDatepicker]="material_accept_date" formControlName="recordDate">
              <mat-datepicker-toggle matSuffix [for]="material_accept_date"></mat-datepicker-toggle>
              <mat-datepicker #material_accept_date></mat-datepicker>
            </mat-form-field>
          </div>

          <div class="heap-row">
            <mat-form-field>
              <mat-label>Indent Number</mat-label>
              <input matInput placeholder="Please enter Indent Number." formControlName="intentNumber">
            </mat-form-field>

            <mat-form-field>
              <mat-label>GRN</mat-label>
              <input matInput placeholder="Please enter GRN." formControlName="grn">
            </mat-form-field>
          </div>

          <div class="heap-row">
            <mat-form-field>
              <mat-label>Invoice Number</mat-label>
              <input matInput placeholder="Please enter Invoice Number." formControlName="invoice">
            </mat-form-field>

            <mat-form-field>
              <mat-label>Invoice Date</mat-label>
              <input matInput [matDatepicker]="invoice_date" formControlName="invoiceDate">
              <mat-datepicker-toggle matSuffix [for]="invoice_date"></mat-datepicker-toggle>
              <mat-datepicker #invoice_date></mat-datepicker>
            </mat-form-field>
          </div>

          <div class="heap-row">
            <mat-form-field>
              <mat-label>PO Number</mat-label>
              <input matInput placeholder="Please enter PO Number." formControlName="poNumber">
            </mat-form-field>

            <mat-form-field>
              <mat-label>PO Date</mat-label>
              <input matInput [matDatepicker]="po_date" formControlName="poDate">
              <mat-datepicker-toggle matSuffix [for]="po_date"></mat-datepicker-toggle>
              <mat-datepicker #po_date></mat-datepicker>
            </mat-form-field>
          </div>

          <div class="heap-row">
            <mat-form-field>
              <mat-label>Logged In User</mat-label>
              <input matInput placeholder="Please enter Logged In User." formControlName="loggedInUser">
            </mat-form-field>

            <mat-form-field>
              <mat-label>Department</mat-label>
              <input matInput placeholder="Please enter Department." formControlName="department">
            </mat-form-field>
          </div>
        </form>

        <div class="card-block"></div>

        <form class="heap-form" [formGroup]="acceptMaterialItemForm" (ngSubmit)="addMaterial()">

          <div class="heap-row">
            <mat-form-field>
              <mat-label>Accepting Material Code</mat-label>
              <input type="text" matInput formControlName="productCode" [matAutocomplete]="auto_inventory_item"
                (focusout)="productFocusOut($event)">
              <mat-autocomplete #auto_inventory_item="matAutocomplete" [displayWith]="displayInventoryItemCode"
                (optionSelected)="itemSelected($event)">
                <mat-option *ngFor="let inventoryItem of inventoryItems " [value]="inventoryItem">
                  {{inventoryItem.inventoryItemCode}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Base Unit Measure (Disabled)</mat-label>
              <input matInput type="string" placeholder="Base unit will appear here." formControlName="baseUnitMeasure">
            </mat-form-field>
          </div>

          <div class="heap-row">
            <mat-form-field>
              <mat-label>Classification</mat-label>
              <mat-select formControlName="classification">

                <mat-option *ngFor="let classification of classifications" [value]="classification.value">
                  {{classification.viewValue}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Inventory Type</mat-label>
              <mat-select formControlName="inventoryType">

                <mat-option *ngFor="let inventoryType of inventoryTypes" [value]="inventoryType.value">
                  {{inventoryType.viewValue}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div class="heap-row">
            <mat-form-field>
              <mat-label>Quantity</mat-label>
              <input matInput type="number" placeholder="Please enter quantity." formControlName="quantity">
            </mat-form-field>

            <ng-container matColumnDef="baseUnitMeasure">
              <th mat-header-cell *matHeaderCellDef> Base Unit Measure </th>
              <td mat-cell *matCellDef="let element"> {{element.baseUnitMeasure}} </td>
            </ng-container>

            <mat-form-field>
              <mat-label>Price</mat-label>
              <input matInput type="number" placeholder="Please enter price per unit." formControlName="pricePerUnit"
                value="0">
            </mat-form-field>
          </div>

          <div class="heap-row">
            <button mat-stroked-button color="primary" type="submit" [disabled]="!acceptMaterialItemForm.valid">Add
              Record</button>
            <button mat-stroked-button color="primary" type="reset">Reset</button>
          </div>

        </form>

        <div class="card-block"></div>

        <table mat-table [dataSource]="items" class="mat-elevation-z8">

          <ng-container matColumnDef="quantity">
            <th mat-header-cell *matHeaderCellDef> Quantity </th>
            <td mat-cell *matCellDef="let element"> {{element.quantity}} </td>
          </ng-container>

          <ng-container matColumnDef="baseUnitMeasure">
            <th mat-header-cell *matHeaderCellDef> Base Unit Measure </th>
            <td mat-cell *matCellDef="let element"> {{element.baseUnitMeasure}} </td>
          </ng-container>

          <ng-container matColumnDef="pricePerUnit">
            <th mat-header-cell *matHeaderCellDef> Price </th>
            <td mat-cell *matCellDef="let element"> {{element.pricePerUnit}} </td>
          </ng-container>

          <ng-container matColumnDef="productCode">
            <th mat-header-cell *matHeaderCellDef> Accepting Material Code </th>
            <td mat-cell *matCellDef="let element"> {{element.productCode}} </td>
          </ng-container>

          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef> Description </th>
            <td mat-cell *matCellDef="let element"> {{element.description}} </td>
          </ng-container>

          <ng-container matColumnDef="classification">
            <th mat-header-cell *matHeaderCellDef> Classification </th>
            <td mat-cell *matCellDef="let element"> {{element.classification}} </td>
          </ng-container>

          <ng-container matColumnDef="inventoryType">
            <th mat-header-cell *matHeaderCellDef> Inventory Type </th>
            <td mat-cell *matCellDef="let element"> {{element.inventoryType}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

        </table>

        <!-- <div class="card-block"></div> -->

        <mat-divider></mat-divider>

        <section>
          <div class="heap-row">
            <button mat-stroked-button color="primary" (click)="submitMaterial($event)">Submit</button>
            <button mat-stroked-button color="primary" (click)="resetForm($event)">Reset</button>
          </div>
        </section>

      </div>

    </div>
  </div>

</div>